<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore</title>
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @font-face {font-family: 'Deyi Hei';src: url('https://cdn.jsdelivr.net/gh/maoken/DeyiHeiFont@latest/DeyiHei-Regular.woff2') format('woff2'),url('https://cdn.jsdelivr.net/gh/maoken/DeyiHeiFont@latest/DeyiHei-Regular.woff') format('woff');font-weight: normal;font-style: normal;font-display: swap;}
        * {margin: 0;padding: 0;box-sizing: border-box;font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;}
        body {min-height: 100vh;background: #f5f7fa;display: flex;flex-direction: column;align-items: center;justify-content: center;padding: 20px;gap: 20px;transition: all 0.3s ease;position: relative;overflow-x: hidden;}
        body.dark {background: #1a1a1d;}
        body.light {background: #f5f7fa;}
        /* 菜单按钮 */
        .menu-btn {position: absolute;top: 20px;left: 20px;width: 40px;height: 40px;border-radius: 8px;background: #fff;box-shadow: 0 2px 10px rgba(0,0,0,0.08);display: flex;align-items: center;justify-content: center;color: #333;font-size: 20px;cursor: pointer;border: none;transition: all 0.3s ease;z-index: 100;}
        .menu-btn:hover {background: #f0f0f0;}
        /* 主菜单弹窗 - 与关于弹窗等宽300px，移动端260px */
        .menu-popup {position: absolute;top: 70px;left: 20px;width: 300px;background: #fff;box-shadow: 0 4px 15px rgba(0,0,0,0.1);border-radius: 12px;padding: 8px 0;display: flex;flex-direction: column;z-index: 99;opacity: 0;transform: translateY(-10px);pointer-events: none;transition: all 0.3s ease;}
        .menu-popup.show {opacity: 1;transform: translateY(0);pointer-events: auto;}
        /* 主菜单项 */
        .menu-main {padding: 12px 20px;color: #333;font-size: 16px;transition: all 0.2s ease;cursor: pointer;display: flex;justify-content: space-between;align-items: center;}
        .menu-main:hover {background: #f5f7fa;}
        .menu-main i {font-size: 14px;color: #999;transition: all 0.2s ease;}
        /* 设置子菜单 - 铺满主菜单，无额外间距 */
        .menu-sub {display: flex;flex-direction: column;background: #f8f9fa;opacity: 0;height: 0;overflow: hidden;transition: all 0.3s ease;}
        .menu-sub.show {opacity: 1;height: 100px;}
        /* 子菜单项 - 弹性布局，适配开关 */
        .sub-item {padding: 12px 20px;color: #333;font-size: 14px;transition: all 0.2s ease;cursor: pointer;display: flex;justify-content: space-between;align-items: center;}
        .sub-item:hover {background: #e9ecef;}
        /* 苹果式开关样式 - 核心样式 */
        .switch {position: relative;width: 44px;height: 24px;border-radius: 12px;background: #e5e7eb;cursor: pointer;transition: all 0.3s ease;}
        .switch::after {content: '';position: absolute;top: 2px;left: 2px;width: 20px;height: 20px;border-radius: 50%;background: #fff;box-shadow: 0 1px 3px rgba(0,0,0,0.2);transition: all 0.3s ease;transform: translateX(0);}
        .switch.checked {background: #165DFF;}
        .switch.checked::after {transform: translateX(20px);}
        /* 标题样式 */
        .explore-title {font-family: 'Deyi Hei', sans-serif;font-size: 48px;font-weight: 500;color: #333;transition: all 0.3s ease;letter-spacing: 2px;opacity: 0;transform: translateY(20px);animation: fadeUp 0.8s ease 0.2s forwards;}
        .explore-title.hidden {display: none;}
        /* 搜索框 */
        .search-box {width: 100%;max-width: 600px;position: relative;margin-top: 10px;margin-bottom: 30px;opacity: 0;transform: translateY(20px);display: flex;align-items: center;gap: 10px;animation: fadeUp 0.8s ease 0.5s forwards;}
        .search-input {flex: 1;height: 50px;padding: 0 20px;border: none;border-radius: 25px;font-size: 16px;background: #fff;color: #333;box-shadow: 0 3px 15px rgba(0,0,0,0.08);outline: none;transition: all 0.3s ease;}
        .search-input::placeholder {color: #999;}
        .search-input:focus {box-shadow: 0 5px 20px rgba(99, 102, 241, 0.15);}
        .engine-toggle {width: 90px;height: 50px;border: none;border-radius: 25px;background: #fff;color: #333;box-shadow: 0 3px 15px rgba(0,0,0,0.08);cursor: pointer;font-size: 16px;display: flex;align-items: center;justify-content: center;gap: 4px;transition: all 0.3s ease;}
        .engine-toggle:hover {box-shadow: 0 5px 20px rgba(99, 102, 241, 0.15);}
        /* 引擎面板 */
        .engine-panel {position: absolute;top: 55px;right: 0;width: 120px;background: #fff;border-radius: 12px;box-shadow: 0 4px 15px rgba(0,0,0,0.1);padding: 8px 0;z-index: 90;opacity: 0;transform: translateY(-10px);pointer-events: none;transition: all 0.3s ease;}
        .engine-panel.show {opacity: 1;transform: translateY(0);pointer-events: auto;}
        .engine-item {width: 100%;padding: 8px 16px;border: none;background: transparent;text-align: left;cursor: pointer;font-size: 14px;color: #333;transition: all 0.2s ease;}
        .engine-item:hover {background: #f5f7fa;}
        /* 快捷方式 */
        .shortcut-box {display: flex;gap: 30px;flex-wrap: wrap;justify-content: center;align-items: center;}
        .shortcut-item {width: 80px;height: 80px;border-radius: 50%;background: #fff;box-shadow: 0 4px 10px rgba(0,0,0,0.1);display: flex;align-items: center;justify-content: center;text-decoration: none;position: relative;opacity: 0;transform: scale(0.8) translateY(30px);transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);}
        .shortcut-item:nth-child(1) {animation: popIn 0.6s ease 0.7s forwards;}
        .shortcut-item:nth-child(2) {animation: popIn 0.6s ease 0.9s forwards;}
        .shortcut-item:nth-child(3) {animation: popIn 0.6s ease 1.1s forwards;}
        .shortcut-item:hover {transform: scale(1.08) translateY(-5px) rotate(5deg);box-shadow: 0 8px 20px rgba(0,0,0,0.15);}
        .icon-bilibili {color: #fb7299;font-size: 32px;}
        .icon-douyin {color: #000;font-size: 32px;}
        .icon-ai {color: #165DFF;font-size: 28px;font-weight: 700;letter-spacing: 2px;}
        /* 关于弹窗 */
        .about-mask {position: fixed;top: 0;left: 0;width: 100vw;height: 100vh;background: rgba(0,0,0,0.3);display: flex;align-items: center;justify-content: center;z-index: 999;opacity: 0;pointer-events: none;transition: all 0.3s ease;}
        .about-mask.show {opacity: 1;pointer-events: auto;}
        .about-box {width: 300px;padding: 30px 20px;background: #fff;border-radius: 12px;box-shadow: 0 6px 20px rgba(0,0,0,0.15);text-align: center;transition: all 0.3s ease;transform: scale(0.9) translateY(20px);}
        .about-mask.show .about-box {transform: scale(1) translateY(0);}
        .about-version {font-size: 18px;font-weight: 600;color: #165DFF;margin-bottom: 20px;transition: all 0.3s ease;}
        .about-text {font-size: 16px;color: #333;line-height: 1.8;margin-bottom: 15px;}
        .about-copyright {font-size: 14px;color: #666;}
        .about-close {margin-top: 20px;padding: 6px 20px;background: #f5f7fa;border: none;border-radius: 6px;color: #333;cursor: pointer;transition: all 0.2s ease;}
        .about-close:hover {background: #e9ecef;}
        /* 动画关键帧 */
        @keyframes fadeUp {to {opacity: 1;transform: translateY(0);}}
        @keyframes popIn {to {opacity: 1;transform: scale(1) translateY(0);}}
        /* 深色模式适配 - 全元素覆盖 */
        body.dark .explore-title,body.dark .menu-btn,body.dark .menu-main,body.dark .sub-item,body.dark .search-input,body.dark .engine-toggle,body.dark .engine-item {color: #f5f5f5;}
        body.dark .menu-btn {background: #2d2d3f;box-shadow: 0 2px 10px rgba(0,0,0,0.3);}
        body.dark .menu-btn:hover {background: #383850;}
        body.dark .menu-popup {background: #2d2d3f;box-shadow: 0 4px 15px rgba(0,0,0,0.3);}
        body.dark .menu-main:hover {background: #383850;}
        body.dark .menu-main i {color: #b0b0b8;}
        body.dark .menu-sub {background: #383850;}
        body.dark .sub-item:hover {background: #454560;}
        body.dark .switch {background: #454560;}
        body.dark .switch.checked {background: #4080ff;}
        body.dark .search-input,body.dark .engine-toggle {background: #2d2d3f;box-shadow: 0 3px 15px rgba(0,0,0,0.3);}
        body.dark .search-input::placeholder {color: #b0b0b8;}
        body.dark .search-input:focus,body.dark .engine-toggle:hover {box-shadow: 0 5px 20px rgba(22, 93, 255, 0.2);}
        body.dark .engine-panel {background: #2d2d3f;box-shadow: 0 4px 15px rgba(0,0,0,0.3);}
        body.dark .engine-item:hover {background: #383850;}
        body.dark .shortcut-item {background: #2d2d3f;box-shadow: 0 4px 10px rgba(0,0,0,0.3);}
        body.dark .shortcut-item:hover {box-shadow: 0 8px 20px rgba(22, 93, 255, 0.25);}
        body.dark .icon-douyin {color: #f5f5f5;}
        body.dark .icon-ai {color: #4080ff;}
        body.dark .about-mask {background: rgba(0,0,0,0.5);}
        body.dark .about-box {background: #2d2d3f;box-shadow: 0 6px 20px rgba(0,0,0,0.4);}
        body.dark .about-version {color: #4080ff;}
        body.dark .about-text {color: #f5f5f5;}
        body.dark .about-copyright {color: #b0b0b8;}
        body.dark .about-close {background: #383850;color: #f5f5f5;}
        body.dark .about-close:hover {background: #454560;}
        /* 系统深色模式兼容 */
        @media (prefers-color-scheme: dark) {body:not(.light):not(.dark) {background: #1a1a1d;}body:not(.light):not(.dark) .explore-title,body:not(.light):not(.dark) .menu-btn,body:not(.light):not(.dark) .menu-main,body:not(.light):not(.dark) .sub-item,body:not(.light):not(.dark) .search-input,body:not(.light):not(.dark) .engine-toggle,body:not(.light):not(.dark) .engine-item {color: #f5f5f5;}body:not(.light):not(.dark) .menu-btn {background: #2d2d3f;box-shadow: 0 2px 10px rgba(0,0,0,0.3);}body:not(.light):not(.dark) .menu-btn:hover {background: #383850;}body:not(.light):not(.dark) .menu-popup {background: #2d2d3f;box-shadow: 0 4px 15px rgba(0,0,0,0.3);}body:not(.light):not(.dark) .menu-main:hover {background: #383850;}body:not(.light):not(.dark) .menu-main i {color: #b0b0b8;}body:not(.light):not(.dark) .menu-sub {background: #383850;}body:not(.light):not(.dark) .sub-item:hover {background: #454560;}body:not(.light):not(.dark) .switch {background: #454560;}body:not(.light):not(.dark) .switch.checked {background: #4080ff;}body:not(.light):not(.dark) .search-input,body:not(.light):not(.dark) .engine-toggle {background: #2d2d3f;box-shadow: 0 3px 15px rgba(0,0,0,0.3);}body:not(.light):not(.dark) .search-input::placeholder {color: #b0b0b8;}body:not(.light):not(.dark) .search-input:focus,body:not(.light):not(.dark) .engine-toggle:hover {box-shadow: 0 5px 20px rgba(22, 93, 255, 0.2);}body:not(.light):not(.dark) .engine-panel {background: #2d2d3f;box-shadow: 0 4px 15px rgba(0,0,0,0.3);}body:not(.light):not(.dark) .engine-item:hover {background: #383850;}body:not(.light):not(.dark) .shortcut-item {background: #2d2d3f;box-shadow: 0 4px 10px rgba(0,0,0,0.3);}body:not(.light):not(.dark) .shortcut-item:hover {box-shadow: 0 8px 20px rgba(22, 93, 255, 0.25);}body:not(.light):not(.dark) .icon-douyin {color: #f5f5f5;}body:not(.light):not(.dark) .icon-ai {color: #4080ff;}body:not(.light):not(.dark) .about-mask {background: rgba(0,0,0,0.5);}body:not(.light):not(.dark) .about-box {background: #2d2d3f;box-shadow: 0 6px 20px rgba(0,0,0,0.4);}body:not(.light):not(.dark) .about-version {color: #4080ff;}body:not(.light):not(.dark) .about-text {color: #f5f5f5;}body:not(.light):not(.dark) .about-copyright {color: #b0b0b8;}body:not(.light):not(.dark) .about-close {background: #383850;color: #f5f5f5;}body:not(.light):not(.dark) .about-close:hover {background: #454560;}}
        /* 移动端适配 - 菜单/关于弹窗同步缩为260px */
        @media (max-width: 400px) {.explore-title {font-size: 36px;}.menu-btn {width: 36px;height: 36px;font-size: 18px;}.menu-popup {width: 260px;top: 65px;}.about-box {width: 260px;padding: 25px 15px;}.shortcut-item {width: 70px;height: 70px;}.shortcut-box {gap: 20px;}.icon-bilibili, .icon-douyin {font-size: 28px;}.icon-ai {font-size: 24px;}.engine-toggle {width: 80px;font-size: 14px;}.engine-panel {width: 100px;top: 52px;}}
    </style>
</head>
<body>
    <button class="menu-btn" id="menuBtn"><i class="fas fa-bars"></i></button>
    <!-- 主菜单弹窗 - 与关于弹窗等宽300px -->
    <div class="menu-popup" id="menuPopup">
        <div class="menu-main" id="settingBtn">
            设置 <i class="fas fa-chevron-down"></i>
        </div>
        <!-- 设置子菜单 - 集成深浅模式单开关 + 标题开关 -->
        <div class="menu-sub" id="settingSub">
            <div class="sub-item" id="themeToggle">
                深色模式 <div class="switch" id="themeSwitch"></div>
            </div>
            <div class="sub-item" id="titleToggle">
                显示标题 <div class="switch" id="titleSwitch"></div>
            </div>
        </div>
        <div class="menu-main" id="aboutBtn">关于</div>
    </div>

    <!-- 关于弹窗 -->
    <div class="about-mask" id="aboutMask">
        <div class="about-box">
            <div class="about-version">版本号：v1.4.0</div>
            <p class="about-text">由弘九honjiu设计并制作</p>
            <p class="about-copyright">© honjiu.github.io</p>
            <button class="about-close" id="aboutClose">关闭</button>
        </div>
    </div>

    <!-- 标题 -->
    <h1 class="explore-title" id="exploreTitle">Explore</h1>
    <!-- 搜索框 -->
    <div class="search-box">
        <input type="text" class="search-input" id="searchInput" placeholder="搜索或输入网址...">
        <button class="engine-toggle" id="engineToggle">必应 <span style="font-size:12px;">▼</span></button>
        <div class="engine-panel" id="enginePanel">
            <button class="engine-item" data-engine="baidu">百度</button>
            <button class="engine-item" data-engine="bing">必应</button>
            <button class="engine-item" data-engine="sogou">搜狗</button>
            <button class="engine-item" data-engine="google">Google</button>
            <button class="engine-item" data-engine="360">360</button>
        </div>
    </div>
    <!-- 快捷方式 - 已删除第三个百度快捷方式 -->
    <div class="shortcut-box">
        <a href="https://www.bilibili.com" class="shortcut-item" target="_blank"><i class="fab fa-bilibili icon-bilibili"></i></a>
        <a href="https://www.douyin.com" class="shortcut-item" target="_blank"><i class="fab fa-tiktok icon-douyin"></i></a>
        <a href="https://www.doubao.com" class="shortcut-item" target="_blank"><span class="icon-ai">AI</span></a>
    </div>

    <script>
        // 获取所有元素
        const [menuBtn, menuPopup, settingBtn, settingSub, aboutBtn, aboutMask, aboutClose, 
                exploreTitle, engineToggle, enginePanel, engineItems, searchInput,
                themeSwitch, titleSwitch, themeToggle, titleToggle] = [
            document.getElementById('menuBtn'), document.getElementById('menuPopup'), document.getElementById('settingBtn'), document.getElementById('settingSub'),
            document.getElementById('aboutBtn'), document.getElementById('aboutMask'), document.getElementById('aboutClose'),
            document.getElementById('exploreTitle'), document.getElementById('engineToggle'), document.getElementById('enginePanel'),
            document.querySelectorAll('.engine-item'), document.getElementById('searchInput'),
            document.getElementById('themeSwitch'), document.getElementById('titleSwitch'),
            document.getElementById('themeToggle'), document.getElementById('titleToggle')
        ];
        // 搜索引擎映射
        const body = document.body;
        const engineMap = {baidu: 'https://www.baidu.com/s?wd=', bing: 'https://cn.bing.com/search?q=', sogou: 'https://www.sogou.com/web?query=', google: 'https://www.google.com/search?q=', 360: 'https://www.so.com/s?q='};
        const engineName = {baidu: '百度', bing: '必应', sogou: '搜狗', google: 'Google', 360: '360'};
        // 从本地存储读取上次搜索引擎，默认必应
        let currentEngine = localStorage.getItem('lastSearchEngine') || 'bing';

        // ========== 初始化状态 ==========
        // 1. 深色模式初始化
        const savedMode = localStorage.getItem('colorMode') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        body.classList.add(savedMode);
        themeSwitch.classList.toggle('checked', savedMode === 'dark');
        // 2. 标题显示状态初始化
        const isTitleShow = localStorage.getItem('isTitleShow') !== 'false';
        exploreTitle.classList.toggle('hidden', !isTitleShow);
        titleSwitch.classList.toggle('checked', isTitleShow);
        // 3. 搜索引擎初始化 - 恢复上次选择并更新按钮文本
        engineToggle.innerHTML = `${engineName[currentEngine]} <span style="font-size:12px;">▼</span>`;

        // ========== 菜单交互 ==========
        menuBtn.addEventListener('click', (e) => {e.stopPropagation();menuPopup.classList.toggle('show');});
        settingBtn.addEventListener('click', (e) => {e.stopPropagation();settingSub.classList.toggle('show');});
        // 点击空白处关闭所有弹窗
        document.addEventListener('click', () => {
            menuPopup.classList.remove('show');
            settingSub.classList.remove('show');
            enginePanel.classList.remove('show');
        });
        // 弹窗内部点击不冒泡
        [menuPopup, enginePanel, settingSub].forEach(el => el.addEventListener('click', (e) => e.stopPropagation()));

        // ========== 关于弹窗 ==========
        aboutBtn.addEventListener('click', () => {
            aboutMask.classList.add('show');
            menuPopup.classList.remove('show');
            settingSub.classList.remove('show');
        });
        aboutClose.addEventListener('click', () => aboutMask.classList.remove('show'));
        aboutMask.addEventListener('click', (e) => e.target === aboutMask && aboutMask.classList.remove('show'));

        // ========== 核心功能 - 深浅模式一键切换 ==========
        themeSwitch.addEventListener('click', toggleTheme);
        themeToggle.addEventListener('click', (e) => {e.stopPropagation();toggleTheme();});
        function toggleTheme() {
            const isDark = body.classList.toggle('dark');
            body.classList.remove(isDark ? 'light' : 'dark');
            body.classList.add(isDark ? 'dark' : 'light');
            themeSwitch.classList.toggle('checked', isDark);
            localStorage.setItem('colorMode', isDark ? 'dark' : 'light');
        }

        // ========== 核心功能 - 标题显示切换 ==========
        titleSwitch.addEventListener('click', toggleTitle);
        titleToggle.addEventListener('click', (e) => {e.stopPropagation();toggleTitle();});
        function toggleTitle() {
            const isShow = exploreTitle.classList.toggle('hidden');
            titleSwitch.classList.toggle('checked', !isShow);
            localStorage.setItem('isTitleShow', !isShow);
        }

        // ========== 搜索引擎切换与保存 ==========
        engineToggle.addEventListener('click', (e) => {e.stopPropagation();enginePanel.classList.toggle('show');searchInput.focus();});
        engineItems.forEach(item => item.addEventListener('click', () => {
            currentEngine = item.dataset.engine;
            engineToggle.innerHTML = `${engineName[currentEngine]} <span style="font-size:12px;">▼</span>`;
            enginePanel.classList.remove('show');
            localStorage.setItem('lastSearchEngine', currentEngine); // 保存到本地存储
        }));

        // ========== 搜索功能 ==========
        searchInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && searchInput.value.trim()) {
                jumpToSearch();
            }
        });
        // 搜索跳转方法
        function jumpToSearch() {
            const content = searchInput.value.trim();
            const isUrl = /^(https?:\/\/)|(\.\w{2,})$/.test(content);
            const jumpUrl = isUrl ? (content.startsWith('http') ? content : `https://${content}`) : engineMap[currentEngine] + encodeURIComponent(content);
            window.open(jumpUrl, '_blank');
            searchInput.value = '';
        }
    </script>
</body>
</html>
